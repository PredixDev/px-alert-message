/*
 * Copyright (c) 2014 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */

// Settings
@import "px-colors-design/_settings.colors.scss";

// Generic
@import "px-normalize-design/_generic.normalize.scss";
@import "px-box-sizing-design/_generic.box-sizing.scss";
@import "px-helpers-design/_generic.helpers.scss";

// Base
@import "px-flexbox-design/_base.flexbox.scss";
@import "px-viewport-design/_base.viewport.scss";
$inuit-enable-btn--bare: true;
@import "px-buttons-design/_objects.buttons.scss";
$actionable: true;
@import "px-actionable-text-icons/_objects.actionable.scss";

@keyframes fadein {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeout {
  from {
    opacity: 1;
    max-height: $inuit-base-spacing-unit--small * 10;
    min-height: 0px;
  }
  to   {
    opacity: 0;
    max-height: 0px;
    min-height: 0px;
    padding-top: 0px;
    padding-bottom: 0px;
  }
}

// Component

@mixin iconCommon {
  color: var(--px-alert-message-icon-text-color, $white);
  text-align: center;
  vertical-align: middle;
  line-height: 30px;
  font-weight: bold;
  border: 1px solid var(--px-alert-message-icon-outline-color, $white);
}

.alert-message {
  width: $inuit-base-spacing-unit--small * 40;
  margin: $inuit-base-spacing-unit--tiny;
  padding: $inuit-base-spacing-unit--small;
  min-height: $inuit-base-spacing-unit--small * 5;
  animation: fadein .5s;
  word-wrap: break-word;
  word-break: break-word;
  background-color: var(--px-alert-message-background-color, $gray2);
  opacity: 1;
  button, a {
      outline: none;
  }
  &.fade-out {
    animation: fadeout .5s;
    max-height: 0px;
  }
  .severity {
    #icon {
      position: relative;
      height:  1.9rem;
      width:  1.9rem;
      //The square needs to be visually smaller
      &.error {
        height:  1.8rem;
        width:  1.8rem;
        background-color: var(--px-alert-message-error-color, $status-yellow3);
        @include iconCommon;
        span:before {
            content: '3';
            position: absolute;
            top: -2px;
            left: 9px;
        }
      }
      &.custom {
        ::content img {
            width: 100%;
            max-width: 100%;
        }
      }
      &.important {
        @include iconCommon;
        border: none;
        span:before {
          content: '1';
          position: absolute;
          top: 2px;
          left: 11px;
        }
        .svg-canvas {
          display: block !important;
          position: absolute;
          top: 0px;
        }
      }
      &.warning {
        height: 24px !important;
        width: 24px !important;
        left: 2px;
        margin-right: 5px;
        background-color: var(--px-alert-message-warning-color, $status-orange3);
        transform: rotate(45deg);
        @include iconCommon;
        span {
          display: block;
          position: relative;
          padding-left: 2px;
          line-height: 24px;
          transform: rotate(-45deg);
        }
        span:before {
          content: '2';
        }
      }
      &.information {
        background-color: var(--px-alert-message-info-color, $status-blue3);
        border-radius: 40px;
        @include iconCommon;
        span:before {
          content: '4';
          position: absolute;
          top: -1px;
          left: 9px;
        }
      }
    }
  }
  .messageColumn {
    flex: 2;
    margin-left: $inuit-base-spacing-unit--small;
    margin-right: $inuit-base-spacing-unit--small;
  }

  .message {
    transition: max-height 1s ease-in-out; /* this isn't working for some reason */
    line-height: $inuit-base-line-height;
    font-size: $inuit-base-font-size;
    padding: 0;
    margin: 0;

    &.more {
      text-align: center;
      font-size: 1.4rem;
      margin-left:  $inuit-base-spacing-unit--large;
    }
    &.collapsedMessage{
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3;                     /* number of lines to show */
      max-height: $inuit-base-line-height * 3;   /* fallback */
    }
    span:first-child {
      font-weight: bold;
    }
  }
  .action {
    width: auto;
    cursor: pointer;
    .dismiss {
      color: var(--px-alert-message-dismiss-icon-color, $gray8);
      outline: none;
      --iron-icon-height: $inuit-base-font-size;
      --iron-icon-width: $inuit-base-font-size;
      margin-bottom: calculateRem(2px);
      margin-left: calculateRem(4px);
    }
  }
}

//part of the icons
.svg-triangle polygon {
  fill: var(--px-alert-message-alert-color, $status-red3);
  stroke: var(--px-alert-message-icon-outline-color, $white);
  stroke-width: 1;
}
.svg-triangle{
  margin: 0 auto;
  width: 30px;
  height: 30px;
}
.svg-canvas {
    display: none;
}

// Trumps
@import "px-spacing-responsive-design/_trumps.spacing-responsive.scss";
@import "px-widths-responsive-design/_trumps.widths-responsive.scss";
